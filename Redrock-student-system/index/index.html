<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./index.css">
</head>

<body>

  <!--登录界面-->
  <div id="page-login" class="page-container login-wrapper">
    <!--提示框-->
    <div class="toast login-toast" data-bs-delay="1500">
      <div class="toast-body">
        <div class="alert alert-danger info-box">
          账号或密码错误
        </div>
      </div>
    </div>

    <div class="login-card">
      <div class="card-header">
        RedRock作业考核系统
      </div>
      <div class="card-tips">
        欢迎新生老登登录使用
      </div>
      <form class="login-form">
        <label for="username" class="card-label">
          账号
        </label>
        <input type="text" class="circle-input" name="username" id="username">
        <label for="password" class="card-label">
          密码
        </label>
        <input type="password" class="circle-input" name="password" id="password">
      </form>
      <button type="login-btn" class="login-btn">登录</button>
      <button type="login-register-btn" class="login-register-btn">注册</button>
    </div>

  </div>
  <!--注册界面-->
  <div id="page-register" class="page-container login-wrapper">
    <!--注册提示框-->
    <div class="toast register-toast" data-bs-delay="1500">
      <div class="toast-body">
        <div class="alert alert-danger info-box">
          账号或密码错误
        </div>
      </div>
    </div>
    <!--代码复用一下，应该问题不大吧？-->
    <div class="login-card">
      <div class="card-header">
        RedRock注册系统
      </div>
      <div class="card-tips">
        欢迎新生老登注册使用
      </div>
      <form class="register-form">
        <label for="username" class="card-label">
          账号
        </label>
        <input type="text" class="circle-input" name="username" id="username">
        <label for="password" class="card-label">
          密码
        </label>
        <input type="password" class="circle-input" name="password" id="password">
        <label for="nickname" class="card-label">
          昵称
        </label>
        <input type="text" class="circle-input" name="nickname" id="nickname">
        <label for="department" class="card-label">
          部门
        </label>
        <select class="circle-input" name="department" id="department">
          <option value="">请选择部门</option>
          <option value="backend">后端</option>
          <option value="frontend">前端</option>
          <option value="operation">SRE</option>
          <option value="product">产品</option>
          <option value="design">视觉设计</option>
          <option value="android">Android</option>
          <option value="ios">ios</option>

        </select>
      </form>
      <button type="register-btn" class="register-btn">注册</button>
      <button type="comeback-btn" class="comeback-btn">返回登录</button>

    </div>
  </div>

  <!--主系统-->
  <div id="page-system" class="page-container">
    <!--注销弹框-->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">注销账户</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>确定要注销账户吗？此操作不可恢复。</p>
            <div class="mb-3">
              <label for="delete-password" class="form-label">输入密码确认</label>
              <input type="password" class="form-control" id="delete-password" placeholder="请输入您的密码">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
            <button type="button" class="btn btn-danger delete-confirm-btn">确认注销</button>
          </div>
        </div>
      </div>
    </div>
    <!-- 固定导航栏 -->
    <nav class="navbar">
      <!-- 左侧工具栏 -->
      <div class="navbar-left">
        <h3 style="margin: 0; font-size: 16px; font-weight: bold;">RedRock系统</h3>
        <button class="toolbar-btn">首页</button>
        <button class="toolbar-btn">作业</button>
        <button class="toolbar-btn">课程</button>
        <button class="toolbar-btn">通知</button>
      </div>

      <!-- 右侧用户信息 -->
      <div class="navbar-right">
        <div class="user-info">
          <div class="avatar">U</div>
          <span class="username">用户名</span>
          <span class="department">部门</span>
        </div>

        <!-- 下拉菜单按钮 -->
        <div class="dropdown">
          <button class="dropdown-btn">☰</button>
          <div class="dropdown-menu" id="userDropdown">
            <button class="dropdown-item system-exit">退出登录</button>
            <button class="dropdown-item system-delete">注销账户</button>
          </div>
        </div>
      </div>
    </nav>

    <!--增加作业模态弹窗 -->
    <div class="modal fade" id="addHomeworkModal" tabindex="-1" aria-labelledby="addHomeworkModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addHomeworkModalLabel">增加作业</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form id="addHomeworkForm">
            <div class="modal-body">
              <div class="mb-3">
                <label for="homework-title" class="form-label">作业标题 *</label>
                <input type="text" class="form-control" id="homework-title" required>
              </div>
              <div class="mb-3">
                <label for="homework-description" class="form-label">作业描述/要求 *</label>
                <textarea class="form-control" id="homework-description" rows="4" required></textarea>
              </div>
              <div class="mb-3">
                <label for="homework-department" class="form-label">所属部门 *</label>
                <select class="form-select" id="homework-department" required>
                  <option value="">请选择部门</option>
                  <option value="后端">后端</option>
                  <option value="前端">前端</option>
                  <option value="SRE">SRE</option>
                  <option value="产品">产品</option>
                  <option value="视觉设计">视觉设计</option>
                  <option value="Android">Android</option>
                  <option value="ios">ios</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="homework-deadline" class="form-label">截止时间 *</label>
                <input type="datetime-local" class="form-control" id="homework-deadline" required>
              </div>
              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="homework-allow-late">
                <label class="form-check-label" for="homework-allow-late">允许补交</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
              <button type="submit" class="btn btn-primary">保存</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--修改作业模态弹窗 -->
    <div class="modal fade" id="editHomeworkModal" tabindex="-1" aria-labelledby="editHomeworkModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editHomeworkModalLabel">修改作业</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form id="editHomeworkForm">
            <input type="hidden" id="edit-homework-id">
            <div class="modal-body">
              <div class="mb-3">
                <label for="edit-homework-title" class="form-label">作业标题 *</label>
                <input type="text" class="form-control" id="edit-homework-title" required>
              </div>
              <div class="mb-3">
                <label for="edit-homework-description" class="form-label">作业描述/要求 *</label>
                <textarea class="form-control" id="edit-homework-description" rows="4" required></textarea>
              </div>
              <div class="mb-3">
                <label for="edit-homework-deadline" class="form-label">截止时间 *</label>
                <input type="datetime-local" class="form-control" id="edit-homework-deadline" required>
              </div>
              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="edit-homework-allow-late">
                <label class="form-check-label" for="edit-homework-allow-late">允许补交</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
              <button type="submit" class="btn btn-primary">保存修改</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--API Key配置模态弹窗 -->
    <div class="modal fade" id="apiKeyModal" tabindex="-1" aria-labelledby="apiKeyModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="apiKeyModalLabel">API Key配置</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <form id="apiKeyForm">
            <div class="modal-body">
              <div class="mb-3">
                <label for="gemini-api-key" class="form-label">Gemini API Key</label>
                <input type="text" class="form-control" id="gemini-api-key" placeholder="输入Gemini API Key">
              </div>
              <div class="mb-3">
                <label for="deepseek-api-key" class="form-label">DeepSeek API Key</label>
                <input type="text" class="form-control" id="deepseek-api-key" placeholder="输入DeepSeek API Key">
              </div>
              <p class="text-muted text-sm">提示：API Key将存储在本地，用于调用相应的AI模型API</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
              <button type="submit" class="btn btn-primary">保存配置</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--删除作业确认模态弹窗 -->
    <div class="modal fade" id="deleteHomeworkModal" tabindex="-1" aria-labelledby="deleteHomeworkModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="deleteHomeworkModalLabel">确认删除</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p>确定要删除此作业吗？此操作不可恢复。</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
            <button type="button" class="btn btn-danger" id="confirmDeleteBtn">确认删除</button>
          </div>
        </div>
      </div>
    </div>

    <!--系统内容区域 -->
    <div class="system-content">
      <!-- 首页内容 -->
      <div id="content-home" class="content-section">
        <div class="chat-container">
          <div class="chat-header">
            <h4>问问AI</h4>
            <div class="model-selector">
              <div class="model-dropdown">
                <button class="model-btn" id="current-model-btn">
                  <span id="selected-model">模型</span>
                  <span class="dropdown-icon">▼</span>
                </button>
                <div class="model-dropdown-menu" id="model-dropdown-menu">
                  <button class="model-option">模型</button>
                  <button class="model-option" data-model="gemini">Gemini</button>
                  <button class="model-option" data-model="deepseek">DeepSeek</button>
                </div>
              </div>
            </div>
          </div>
          <div class="chat-messages" id="chat-messages">
            <!-- 消息会在这里动态添加 -->
          </div>
          <div class="chat-input-area">
            <input type="text" class="chat-input" id="chat-input" placeholder="输入你的问题...">
            <button class="send-btn" id="send-btn">发送</button>
          </div>
        </div>
      </div>

      <!-- 作业内容 -->
      <div id="content-homework" class="content-section hidden">
        <div class="homework-container">
          <div class="homework-content">
            <!-- 左侧筛选表单 -->
            <div class="filter-sidebar">
              <div class="filter-header">
                <h4>筛选条件</h4>
                <button class="toggle-filter">≡</button>
              </div>
              <div class="filter-form">
                <div class="filter-group">
                  <label>作业标题</label>
                  <input type="text" class="form-control" placeholder="输入作业标题搜索">
                </div>
                <div class="filter-group">
                  <label>部门</label>
                  <select class="form-select">
                    <option>全部部门</option>
                    <option>后端</option>
                    <option>前端</option>
                    <option>SRE</option>
                    <option>产品</option>
                    <option>视觉设计</option>
                    <option>Android</option>
                    <option>ios</option>
                  </select>
                </div>
                <div class="filter-group">
                  <label>截止状态</label>
                  <select class="form-select">
                    <option>进行中</option>
                    <option>已截止</option>
                    <option>全部</option>
                  </select>
                </div>
                <div class="filter-group">
                  <label>提交状态</label>
                  <select class="form-select">
                    <option>全部</option>
                    <option>已提交</option>
                    <option>未提交</option>
                  </select>
                </div>
                <div class="filter-group">
                  <label>排序</label>
                  <select class="form-select">
                    <option>截止时间 (近到远)</option>
                    <option>截止时间 (远到近)</option>
                    <option>创建时间 (近到远)</option>
                    <option>创建时间 (远到近)</option>
                  </select>
                </div>
                <button class="apply-filter">应用筛选</button>
                <button class="add-homework-btn" data-bs-toggle="modal" data-bs-target="#addHomeworkModal">增加作业</button>
              </div>
            </div>

            <!-- 右侧作业列表 -->
            <div class="homework-list">
              <div class="homework-grid" id="homeworkGrid">
                <!-- 作业卡片示例 -->
                <div class="homework-card">
                  <div class="homework-card-header">
                    <h5>JavaScript基础作业</h5>
                    <span class="deadline">截止: 2026-02-01</span>
                  </div>
                  <div class="homework-card-body">
                    <p>完成JavaScript基础语法练习，包括变量、函数、对象等知识点</p>
                    <div class="homework-card-footer">
                      <span class="department-tag">前端开发</span>
                      <div class="view-dropdown">
                        <button class="view-btn">查看</button>
                        <div class="view-dropdown-menu">
                          <button class="dropdown-item view-homework">查看作业</button>
                          <button class="dropdown-item edit-homework">修改作业</button>
                          <button class="dropdown-item delete-homework">删除作业</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="homework-card">
                  <div class="homework-card-header">
                    <h5>CSS布局练习</h5>
                    <span class="deadline">截止: 2026-02-03</span>
                  </div>
                  <div class="homework-card-body">
                    <p>使用Flexbox和Grid实现响应式布局，完成指定的页面设计</p>
                    <div class="homework-card-footer">
                      <span class="department-tag">前端开发</span>
                      <div class="view-dropdown">
                        <button class="view-btn">查看</button>
                        <div class="view-dropdown-menu">
                          <button class="dropdown-item view-homework">查看作业</button>
                          <button class="dropdown-item edit-homework">修改作业</button>
                          <button class="dropdown-item delete-homework">删除作业</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="homework-card">
                  <div class="homework-card-header">
                    <h5>Node.js后端开发</h5>
                    <span class="deadline">截止: 2026-02-05</span>
                  </div>
                  <div class="homework-card-body">
                    <p>使用Node.js和Express框架创建RESTful API，实现用户认证功能</p>
                    <div class="homework-card-footer">
                      <span class="department-tag">后端开发</span>
                      <div class="view-dropdown">
                        <button class="view-btn">查看</button>
                        <div class="view-dropdown-menu">
                          <button class="dropdown-item view-homework">查看作业</button>
                          <button class="dropdown-item edit-homework">修改作业</button>
                          <button class="dropdown-item delete-homework">删除作业</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="homework-card">
                  <div class="homework-card-header">
                    <h5>UI设计练习</h5>
                    <span class="deadline">截止: 2026-02-07</span>
                  </div>
                  <div class="homework-card-body">
                    <p>为RedRock系统设计一个新的登录页面，要求美观、易用</p>
                    <div class="homework-card-footer">
                      <span class="department-tag">设计</span>
                      <div class="view-dropdown">
                        <button class="view-btn">查看</button>
                        <div class="view-dropdown-menu">
                          <button class="dropdown-item view-homework">查看作业</button>
                          <button class="dropdown-item edit-homework">修改作业</button>
                          <button class="dropdown-item delete-homework">删除作业</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>


              </div>
            </div>
          </div>
          <div class="homework-pagination" id="homeworkPagination">
            <button class="pagination-btn pagination-prev" id="prevPageBtn">上一页</button>
            <div class="pagination-numbers" id="paginationNumbers">
              <!-- 页码会动态生成 -->
            </div>
            <button class="pagination-btn pagination-next" id="nextPageBtn">下一页</button>
          </div>
        </div>
      </div>

    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"></script>
  <script src="./lib/form-serialize.js"></script>
  <script src="./index.js"></script>
</body>

</html>